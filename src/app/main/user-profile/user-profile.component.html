<app-header></app-header>

<div>

    <div class="container p-3">

        <div class="row">

            <div class="col-md-3">

                <div class="card">

                    <div class="card-body">

                        <div class="text-center">

                            <img src="https://bootdey.com/img/Content/avatar/avatar7.png" class="rounded-circle"
                                width="150" alt="{{userData?.username}}">

                            <div class="mt-3">

                                <h4>{{userData?.firstName}} {{userData?.lastName}}</h4>

                                <p class="text-secondary mb-1">{{userData?.username}}</p>

                                <p class="text-muted font-size-sm">{{userData?.email}}</p>

                                <p class="text-muted font-size-sm">{{userData?.followers.length}} Followers</p>

                                <span *ngIf="userData?.username!=username">
                                    <button *ngIf="!isFollower" class="btn btn-primary"
                                        (click)="followUser(userData?.username)">Follow</button>
                                    <button *ngIf="isFollower" class="btn btn-danger"
                                        (click)="unfollowUser(userData?.username)">Unfollow</button>

                                    <button class="btn btn-outline-primary">Message</button>
                                </span>

                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-9">

                <div class="card mb-3">
                    <div class="card-body">
                        <div class="row">
                            <div class="col-sm-3">
                                <h6 class="mb-0">No. of Posts Liked <span class="h5"> {{userData?.likedPosts.length}}
                                        üëç</span>
                                </h6>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- show user Posts -->
                <div class="card">
                    <div class="card-body">
                        <div class="row">
                            <div class="col-sm-3">
                                <h6 class="mb-0">No. of Posts {{userData?.posts.length}}</h6>
                            </div>
                        </div>
                        <hr>
                        <div class="row">
                            <div class="col-sm-12">
                                <div class="row">
                                    <div *ngFor="let post of userData?.posts.reverse()">
                                        <div class="col-md-12">
                                            <div class="card flex-md-row mb-4 box-shadow h-md-250">
                                                <div class="card-body d-flex flex-column align-items-start">
                                                    <strong
                                                        class="d-inline-block mb-2 text-primary">{{post.postedBy}}</strong>
                                                    <p class="card-text mb-auto">{{post.postText}}</p>
                                                    <div class="mb-1 text-muted"><span
                                                            class="text-right">{{post.postDate |
                                                            date:'medium'}}
                                                        </span>
                                                    </div>
                                                    <p class="text-center">{{post.likes.length}} üëç</p>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>


<app-footer></app-footer>
